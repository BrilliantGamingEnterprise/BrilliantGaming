(window.webpackJsonp_impage_materials_name_gems_materials_pagedoo_shop_1749127240=window.webpackJsonp_impage_materials_name_gems_materials_pagedoo_shop_1749127240||[]).push([[10],{2358:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t){return function(t){if(Array.isArray(t))return i(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||a(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,u,c,a=[],i=!0,f=!1;try{if(u=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;i=!1}else for(;!(i=(r=u.call(n)).done)&&(a.push(r.value),a.length!==e);i=!0);}catch(t){f=!0,o=t}finally{try{if(!i&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(f)throw o}}return a}}(t,e)||a(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=a(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,c=!0,i=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return c=t.done,t},e:function(t){i=!0,u=t},f:function(){try{c||null==n.return||n.return()}finally{if(i)throw u}}}}function a(t,e){if(t){if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Object.defineProperty(e,"__esModule",{value:!0}),e.onTChange=e.useTChange=e.useTKeyValue=e.getTKeys=e.isStore=e.getTRef=e.useTStore=e.useTRef=e.useTShareAtom=e.getTShareAtom=e.getTState=e.cancelTState=e.setTValue=e.getTValue=e.useTState=e.useTValue=e.useTSet=e.selector=e.atom=e.createStore=e.createRootStore=e.TSTATEKEY=void 0;var f=n(1168),l=n(0);e.TSTATEKEY="store";e.createRootStore=function(){return new f.EventBus};e.createStore=function(t,n){if(!t||!n)return(0,e.createRootStore)();var r=(0,e.atom)({store:t,key:n,share:!0}),o=r.getter();if(!(0,e.isStore)(o)){var u=(0,e.createRootStore)();return r.setter(u),u}return o};e.atom=function(t){var n=t.store,r=t.key,o=t.default,u=t.share,c=null!=r?r:"atom:".concat(Math.random().toString(36).slice(2)),a=n.emit("".concat(e.TSTATEKEY,".state:").concat(c));if(a.length>0){if(void 0===u);else if(!u)throw new Error("TState: 创建atom时遇到了重复的Key：".concat(c));return a[0]}var i=o,f=n.on("".concat(e.TSTATEKEY,".state:").concat(c),(function(){return l}));n.emit("".concat(e.TSTATEKEY,".change:").concat(c),i);var l=Object.freeze({key:c,store:n,type:"atom",getter:function(){return i},setter:function(t){i!==t&&(i=t,n.emit("".concat(e.TSTATEKEY,".change:").concat(c),i))},cancel:f});return l};e.selector=function(t){var n,r,o=t.store,u=[],a=function(t){return u.push(t),(0,e.getTValue)(t)},i=function(){var t=u.map((function(t){return t.store.on("".concat(e.TSTATEKEY,".change:").concat(t.key),f)}));return function(){var e,n=c(t);try{for(n.s();!(e=n.n()).done;){(0,e.value)()}}catch(t){n.e(t)}finally{n.f()}}},f=function(){u.length=0,n=t.get({get:a}),r&&r(),r=i(),o.emit("".concat(e.TSTATEKEY,".change:").concat(t.key),n)};f();var l=function(){return n},s=Object.freeze({key:t.key,store:o,type:"selector",getter:l,setter:function(n){if("set"in t){t.set({get:e.getTValue,set:function(t,e){var n;null===(n=null==t?void 0:t.setter)||void 0===n||n.call(t,e)}},n)}},cancel:function(){r&&r(),y()}}),y=o.on("".concat(e.TSTATEKEY,".state:").concat(t.key),(function(){return s}));return o.emit("".concat(e.TSTATEKEY,".change:").concat(t.key),l()),s};e.useTSet=function(t){var e=null==t?void 0:t.setter,n=null==t?void 0:t.getter;return(0,l.useCallback)((function(t){e&&n&&e(t instanceof Function?t(n()):t)}),[n,e])};e.useTValue=function(t){var n=null==t?void 0:t.getter,r=u((0,l.useState)((function(){return null==n?void 0:n()})),2),o=r[0],c=r[1],a=(0,l.useRef)(),i=(0,l.useCallback)((function(){return a.current?a.current:null==t?void 0:t.store.on("".concat(e.TSTATEKEY,".change:").concat(t.key),(function(t){c((function(){return t}))}))}),[null==t?void 0:t.key,null==t?void 0:t.store]);return(0,l.useLayoutEffect)((function(){return a.current||(a.current=i()),function(){a.current&&(a.current(),a.current=void 0)}}),[i]),(0,l.useMemo)((function(){if(n){var t=null==n?void 0:n();t!==o&&c((function(){return t}))}}),[n]),o};e.useTState=function(t){var n=(0,e.useTValue)(t),r=(0,e.useTSet)(t);return(0,l.useMemo)((function(){return[n,r]}),[n,r])};e.getTValue=function(t){return t.getter()};e.setTValue=function(t,e){var n;null===(n=null==t?void 0:t.setter)||void 0===n||n.call(t,e)};e.cancelTState=function(t){t.cancel()};e.getTState=function(t,n){if(t)return t.emit("".concat(e.TSTATEKEY,".state:").concat(n))[0]};e.getTShareAtom=function(t){var n,r;if(0==(arguments.length<=1?0:arguments.length-1))throw new Error("getTShareAtom: key is required");for(var o=t,u=0;u<(arguments.length<=1?0:arguments.length-1)-1;u++)o=(0,e.createStore)(o,u+1<1||arguments.length<=u+1?void 0:arguments[u+1]);return(0,e.getTState)(o,(n=(arguments.length<=1?0:arguments.length-1)-1+1)<1||arguments.length<=n?void 0:arguments[n])||(0,e.atom)({store:o,key:(r=(arguments.length<=1?0:arguments.length-1)-1+1,r<1||arguments.length<=r?void 0:arguments[r]),share:!0})},e.useTShareAtom=e.getTShareAtom;e.useTRef=function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var a=(0,l.useState)(0),i=u(a,2),f=i[0],s=i[1],y=r.join(";"),v=(0,l.useRef)([]),g=(0,l.useCallback)((function(){var t,e=c(v.current);try{for(e.s();!(t=e.n()).done;){(0,t.value)()}}catch(t){e.e(t)}finally{e.f()}v.current.length=0}),[]);(0,l.useEffect)((function(){return function(){g()}}),[g]);var h=t,d=function(){g();for(var t=0;t<r.length;t++){var n=(0,e.getTRef)(h,r[t]);if(t===r.length-1)return n;v.current.push(h.on("".concat(e.TSTATEKEY,".change:").concat(r[t]),(function(){s((function(t){return t+1}))})));var o=(0,e.getTValue)(n);if(!o||!(0,e.isStore)(o))return(0,e.getTRef)((0,e.createRootStore)(),r[t]);h=o}return(0,e.getTRef)((0,e.createRootStore)(),y)};return(0,l.useMemo)((function(){return d()}),[f,y])};e.useTStore=function(t,n){var r=(0,l.useCallback)((function(){var r=(0,e.getTState)(t,n);if(!r){var o=(0,e.createRootStore)();return(0,e.atom)({store:t,key:n,default:o,share:!0}),o}var u=(0,e.getTValue)(r);return(0,e.isStore)(u)?u:(0,e.createRootStore)()}),[n,t]),o=u((0,l.useState)(r),2),c=o[0],a=o[1],i=(0,l.useMemo)((function(){return t.on("".concat(e.TSTATEKEY,".change:").concat(n),(function(){a((function(){return r()}))}))}),[r,n,t]);return(0,l.useEffect)((function(){return function(){return i()}}),[i]),c};e.getTRef=function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),u=1;u<n;u++)r[u-1]=arguments[u];if(!(null==r?void 0:r.length))throw new Error("key is required");if(r.length>=2){var c=(0,e.getTRef)(t,r[0]),a=(0,e.getTValue)(c);return a?e.getTRef.apply(void 0,[a].concat(o(r.slice(1)))):e.getTRef.apply(void 0,[(0,e.createRootStore)()].concat(o(r.slice(1))))}var i=r[0];return Object.freeze({type:"ref",key:i,store:t,getter:function(){var n;return null===(n=(0,e.getTState)(t,i))||void 0===n?void 0:n.getter()},setter:function(n){var r,o;null===(o=null===(r=(0,e.getTState)(t,i))||void 0===r?void 0:r.setter)||void 0===o||o.call(r,n)},cancel:function(){var n;null===(n=(0,e.getTState)(t,i))||void 0===n||n.cancel()}})};e.isStore=function(t){return!!t&&"object"===r(t)&&"emit"in t&&"on"in t&&"off"in t};e.getTKeys=function(t){var n=t.eventMap.keys(),r="".concat(e.TSTATEKEY,".state:").length;return o(n).filter((function(t){return t.startsWith("".concat(e.TSTATEKEY,".state:"))})).map((function(t){return t.substring(r)}))};e.useTKeyValue=function(t,n){var r=(0,e.getTState)(t,n)||(0,e.atom)({store:t,key:n,share:!0});return(0,e.useTValue)(r)};e.useTChange=function(t,n){(0,l.useEffect)((function(){return t.store.on("".concat(e.TSTATEKEY,".change:").concat(t.key),(function(t){n(t)}))}),[n,t.key,t.store])};e.onTChange=function(t,n){return t.store.on("".concat(e.TSTATEKEY,".change:").concat(t.key),(function(t){n(t)}))}},500:function(t,e,n){"use strict";n.d(e,"b",(function(){return y})),n.d(e,"a",(function(){return v})),n.d(e,"k",(function(){return g})),n.d(e,"i",(function(){return h})),n.d(e,"d",(function(){return d})),n.d(e,"f",(function(){return T})),n.d(e,"c",(function(){return b})),n.d(e,"h",(function(){return S})),n.d(e,"g",(function(){return p})),n.d(e,"j",(function(){return E})),n.d(e,"e",(function(){return k}));var r=n(1168),o=n(0);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t){return function(t){if(Array.isArray(t))return l(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||f(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,u,c,a=[],i=!0,f=!1;try{if(u=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;i=!1}else for(;!(i=(r=u.call(n)).done)&&(a.push(r.value),a.length!==e);i=!0);}catch(t){f=!0,o=t}finally{try{if(!i&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(f)throw o}}return a}}(t,e)||f(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=f(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,c=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return c=t.done,t},e:function(t){a=!0,u=t},f:function(){try{c||null==n.return||n.return()}finally{if(a)throw u}}}}function f(t,e){if(t){if("string"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var s=function(){return new r.EventBus},y=function(t,e){if(!t||!e)return s();var n=v({store:t,key:e,share:!0}),r=n.getter();if(!w(r)){var o=s();return n.setter(o),o}return r},v=function(t){var e=t.store,n=t.key,r=t.default,o=t.share,u=null!=n?n:"atom:".concat(Math.random().toString(36).slice(2)),c=e.emit("".concat("store",".state:").concat(u));if(c.length>0){if(void 0===o);else if(!o)throw new Error("TState: 创建atom时遇到了重复的Key：".concat(u));return c[0]}var a=r,i=e.on("".concat("store",".state:").concat(u),(function(){return f}));e.emit("".concat("store",".change:").concat(u),a);var f=Object.freeze({key:u,store:e,type:"atom",getter:function(){return a},setter:function(t){a!==t&&(a=t,e.emit("".concat("store",".change:").concat(u),a))},cancel:i});return f},g=function(t){var e=null==t?void 0:t.getter,n=a(Object(o.useState)((function(){return null==e?void 0:e()})),2),r=n[0],u=n[1],c=Object(o.useRef)(),i=Object(o.useCallback)((function(){return c.current?c.current:null==t?void 0:t.store.on("".concat("store",".change:").concat(t.key),(function(t){u((function(){return t}))}))}),[null==t?void 0:t.key,null==t?void 0:t.store]);return Object(o.useLayoutEffect)((function(){return c.current||(c.current=i()),function(){c.current&&(c.current(),c.current=void 0)}}),[i]),Object(o.useMemo)((function(){if(e){var t=null==e?void 0:e();t!==r&&u((function(){return t}))}}),[e]),r},h=function(t){var e=g(t),n=function(t){var e=null==t?void 0:t.setter,n=null==t?void 0:t.getter;return Object(o.useCallback)((function(t){e&&n&&e(t instanceof Function?t(n()):t)}),[n,e])}(t);return Object(o.useMemo)((function(){return[e,n]}),[e,n])},d=function(t){return t.getter()},T=function(t,e){var n;null==t||null===(n=t.setter)||void 0===n||n.call(t,e)},m=function(t,e){if(t)return t.emit("".concat("store",".state:").concat(e))[0]},b=function(t){var e,n;if(0==(arguments.length<=1?0:arguments.length-1))throw new Error("getTShareAtom: key is required");for(var r=t,o=0;o<(arguments.length<=1?0:arguments.length-1)-1;o++)r=y(r,o+1<1||arguments.length<=o+1?void 0:arguments[o+1]);return m(r,(e=(arguments.length<=1?0:arguments.length-1)-1+1)<1||arguments.length<=e?void 0:arguments[e])||v({store:r,key:(n=(arguments.length<=1?0:arguments.length-1)-1+1,n<1||arguments.length<=n?void 0:arguments[n]),share:!0})},S=b,p=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var u=Object(o.useState)(0),c=a(u,2),f=c[0],l=c[1],y=n.join(";"),v=Object(o.useRef)([]),g=Object(o.useCallback)((function(){var t,e=i(v.current);try{for(e.s();!(t=e.n()).done;){(0,t.value)()}}catch(t){e.e(t)}finally{e.f()}v.current.length=0}),[]);Object(o.useEffect)((function(){return function(){g()}}),[g]);var h=t,T=function(){g();for(var t=0;t<n.length;t++){var e=A(h,n[t]);if(t===n.length-1)return e;v.current.push(h.on("".concat("store",".change:").concat(n[t]),(function(){l((function(t){return t+1}))})));var r=d(e);if(!r||!w(r))return A(s(),n[t]);h=r}return A(s(),y)};return Object(o.useMemo)((function(){return T()}),[f,y])},E=function(t,e){var n=Object(o.useCallback)((function(){var n=m(t,e);if(!n){var r=s();return v({store:t,key:e,default:r,share:!0}),r}var o=d(n);return w(o)?o:s()}),[e,t]),r=a(Object(o.useState)(n),2),u=r[0],c=r[1],i=Object(o.useMemo)((function(){return t.on("".concat("store",".change:").concat(e),(function(){c((function(){return n()}))}))}),[n,e,t]);return Object(o.useEffect)((function(){return function(){return i()}}),[i]),u},A=function t(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];if(null==r||!r.length)throw new Error("key is required");if(r.length>=2){var u=t(e,r[0]),a=d(u);return t.apply(void 0,a?[a].concat(c(r.slice(1))):[s()].concat(c(r.slice(1))))}var i=r[0];return Object.freeze({type:"ref",key:i,store:e,getter:function(){var t;return null===(t=m(e,i))||void 0===t?void 0:t.getter()},setter:function(t){var n,r;null===(n=m(e,i))||void 0===n||null===(r=n.setter)||void 0===r||r.call(n,t)},cancel:function(){var t;null===(t=m(e,i))||void 0===t||t.cancel()}})},w=function(t){return!!t&&"object"===u(t)&&"emit"in t&&"on"in t&&"off"in t},k=function(t,e){return t.store.on("".concat("store",".change:").concat(t.key),(function(t){e(t)}))}}}]);